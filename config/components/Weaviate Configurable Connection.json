{"data":{"edges":[],"nodes":[{"data":{"node":{"template":{"_type":"Component","api_key":{"load_from_db":false,"required":false,"placeholder":"","show":true,"name":"api_key","value":"","display_name":"API Key (Cloud Only)","advanced":false,"input_types":["Message"],"dynamic":false,"info":"","title_case":false,"password":true,"type":"str","_input_type":"SecretStrInput"},"code":{"type":"code","required":true,"placeholder":"","list":false,"show":true,"multiline":true,"value":"import weaviate\nfrom loguru import logger\nfrom langflow.custom import Component\nfrom langflow.io import StrInput, IntInput, BoolInput, SecretStrInput, Output\nfrom langflow.schema import Data\n\n\nclass WeaviateConfigurableConnection(Component):\n    display_name = \"Weaviate Configurable Connection\"\n    description = \"Connects to a local or cloud Weaviate instance with customizable parameters.\"\n    icon = \"server\"\n    name = \"WeaviateConfigurableConnection\"\n\n    inputs = [\n        StrInput(name=\"host\", display_name=\"Weaviate Host\", value=\"langflow-weaviate\", required=True),\n        IntInput(name=\"port\", display_name=\"HTTP Port\", value=8080, required=True),\n        IntInput(name=\"grpc_port\", display_name=\"gRPC Port\", value=50051, required=True),\n        BoolInput(name=\"is_cloud\", display_name=\"Cloud Connection\", value=False, required=True),\n        SecretStrInput(name=\"api_key\", display_name=\"API Key (Cloud Only)\", required=False),\n    ]\n\n    outputs = [\n        Output(display_name=\"Connection Status\", name=\"status\", method=\"test_connection\"),\n    ]\n\n    def test_connection(self) -> Data:\n        try:\n            if self.is_cloud and self.api_key:\n                logger.info(\"Connecting to Weaviate Cloud instance...\")\n                auth_config = weaviate.auth.AuthApiKey(api_key=self.api_key)\n                client = weaviate.connect_to_weaviate_cloud(cluster_url=self.host, auth_credentials=auth_config)\n            else:\n                logger.info(\"Connecting to local Weaviate instance...\")\n                client = weaviate.connect_to_local(\n                    host=self.host,\n                    port=self.port,\n                    grpc_port=self.grpc_port,\n                    skip_init_checks=True\n                )\n\n            if client.is_ready():\n                message = f\"✅ Connected to {'Weaviate Cloud' if self.is_cloud else 'Local Weaviate'} successfully.\"\n                logger.info(message)\n                return Data(data={\"status\": \"success\", \"message\": message})\n            else:\n                message = \"❌ Failed to connect to Weaviate.\"\n                logger.error(message)\n                return Data(data={\"status\": \"failed\", \"message\": message})\n\n        except Exception as e:\n            error_message = f\"⚠️ Connection error: {e}\"\n            logger.error(error_message)\n            return Data(data={\"status\": \"error\", \"message\": error_message})\n","fileTypes":[],"file_path":"","password":false,"name":"code","advanced":true,"dynamic":true,"info":"","load_from_db":false,"title_case":false},"grpc_port":{"tool_mode":false,"trace_as_metadata":true,"list":false,"list_add_label":"Add More","required":true,"placeholder":"","show":true,"name":"grpc_port","value":50051,"display_name":"gRPC Port","advanced":false,"dynamic":false,"info":"","title_case":false,"type":"int","_input_type":"IntInput"},"host":{"tool_mode":false,"trace_as_metadata":true,"load_from_db":false,"list":false,"list_add_label":"Add More","required":true,"placeholder":"","show":true,"name":"host","value":"langflow-weaviate","display_name":"Weaviate Host","advanced":false,"dynamic":false,"info":"","title_case":false,"type":"str","_input_type":"StrInput"},"is_cloud":{"tool_mode":false,"trace_as_metadata":true,"list":false,"list_add_label":"Add More","required":true,"placeholder":"","show":true,"name":"is_cloud","value":false,"display_name":"Cloud Connection","advanced":false,"dynamic":false,"info":"","title_case":false,"type":"bool","_input_type":"BoolInput"},"port":{"tool_mode":false,"trace_as_metadata":true,"list":false,"list_add_label":"Add More","required":true,"placeholder":"","show":true,"name":"port","value":8080,"display_name":"HTTP Port","advanced":false,"dynamic":false,"info":"","title_case":false,"type":"int","_input_type":"IntInput"}},"description":"Connects to a local or cloud Weaviate instance with customizable parameters.","icon":"server","base_classes":["Data"],"display_name":"Weaviate Configurable Connection","documentation":"","minimized":false,"custom_fields":{},"output_types":[],"pinned":false,"conditional_paths":[],"frozen":false,"outputs":[{"types":["Data"],"selected":"Data","name":"status","hidden":null,"display_name":"Connection Status","method":"test_connection","value":"__UNDEFINED__","cache":true,"required_inputs":null,"allows_loop":false,"tool_mode":true}],"field_order":["host","port","grpc_port","is_cloud","api_key"],"beta":false,"legacy":false,"edited":true,"metadata":{},"tool_mode":false,"lf_version":"1.1.4.post1","official":false},"showNode":true,"type":"WeaviateConfigurableConnection","id":"CustomComponent-FrbUW"},"id":"CustomComponent-FrbUW","position":{"x":0,"y":0},"type":"genericNode"}],"viewport":{"x":1,"y":1,"zoom":1}},"description":"Connects to a local or cloud Weaviate instance with customizable parameters.","name":"Weaviate Configurable Connection","id":"CustomComponent-FrbUW","is_component":true,"last_tested_version":"1.1.4.post1"}